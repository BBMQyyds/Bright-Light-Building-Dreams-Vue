webpackJsonp([21],{"5oZL":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Xxa5"),i=l.n(a),n=l("exGp"),o=l.n(n),r={data:function(){return{data:null,loading:!1,multipleSelection:[],dialogFormVisible:!1,title:"新增",form:{name:"乔霞",age:27,birthday:"1974-09-15",city:"江西省 萍乡市",isMale:!1,visible:!1},formLabelWidth:"120px"}},created:function(){this.getData()},methods:{getData:function(){var e=this;return o()(i.a.mark(function t(){var l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.GET_USER_LIST();case 2:l=t.sent,e.data=l.data;case 4:case"end":return t.stop()}},t,e)}))()},handleDelete:function(){var e=this;return o()(i.a.mark(function t(){var l,a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(l=[],a=0;a<e.multipleSelection.length;a++)l.push(e.multipleSelection[a].id);return t.next=4,e.$api.DELETE_USER_LIST({ids:l});case 4:n=t.sent,e.data=n.data;case 6:case"end":return t.stop()}},t,e)}))()},hanleDeleteSingle:function(e){var t=this;return o()(i.a.mark(function l(){var a;return i.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.$api.DELETE_USER_LIST({ids:[e.id]});case 2:a=l.sent,t.data=a.data;case 4:case"end":return l.stop()}},l,t)}))()},handleAdd:function(){this.title="新增",this.dialogFormVisible=!0},postUser:function(){var e=this;return o()(i.a.mark(function t(){var l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("确定了"),e.loading=!0,t.next=4,e.$api.PUT_USER(e.form);case 4:l=t.sent,e.dialogFormVisible=!1,e.loading=!1,e.data=l.data;case 8:case"end":return t.stop()}},t,e)}))()},handleEdit:function(e){this.title="编辑",this.dialogFormVisible=!0,this.form=e},handleSelectionChange:function(e){this.multipleSelection=e},handleClick:function(e){console.log(e)}}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:e.multipleSelection.length>0,expression:"multipleSelection.length>0"}],attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("批量删除")])],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"",prop:"name",label:"姓名"}}),e._v(" "),l("el-table-column",{attrs:{prop:"isMale",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return l("div",{},[l("span",[e._v(e._s(t.row.isMale?"男":"女"))])])}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"birthday",label:"生日"}}),e._v(" "),l("el-table-column",{attrs:{prop:"city",label:"地址"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return l("div",{},[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleClick(t.row)}}},[e._v("查看")]),e._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),l("el-popover",{staticStyle:{display:"inline-block"},attrs:{trigger:"click",placement:"top",width:"160"},model:{value:t.row.visible,callback:function(l){e.$set(t.row,"visible",l)},expression:"scope.row.visible"}},[l("p",[e._v("确定删除"+e._s(t.row.name)+"吗？")]),e._v(" "),l("div",{staticStyle:{"text-align":"right",margin:"0"}},[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.visible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(l){e.hanleDeleteSingle(t.row)}}},[e._v("确定")])],1),e._v(" "),l("el-button",{staticStyle:{color:"#f60"},attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(e){t.row.visible=!0}},slot:"reference"},[e._v("删除")])],1)],1)}}])})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{model:e.form}},[l("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"年龄","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[l("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.isMale,callback:function(t){e.$set(e.form,"isMale",t)},expression:"form.isMale"}},[l("el-option",{attrs:{label:"男",value:!0}}),e._v(" "),l("el-option",{attrs:{label:"女",value:!1}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"生日","label-width":e.formLabelWidth}},[l("div",{staticClass:"block"},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)]),e._v(" "),l("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[l("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.postUser}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},c=l("VU/8")(r,s,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=21.cf705bfbe8dfda183b68.js.map